/* Collapsed sidebar state */
#sidebar[data-collapsed="true"] {
  width: 4rem;
}

#sidebar[data-collapsed="true"] .sidebar-text {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

#sidebar[data-collapsed="true"] nav {
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}

#sidebar[data-collapsed="true"] .flex.items-center.space-x-3 {
  justify-content: center;
}

/* Sidebar styling for theme-aware gradients */
.sidebar-gradient {
  /* Light theme gradient - default */
  background: linear-gradient(to bottom, #f8fafc, #e2e8f0, #cbd5e1) !important;
  border-right-color: #d1d5db !important;
}

/* Dark theme gradient */
[data-theme="dark"] .sidebar-gradient {
  background: linear-gradient(to bottom, #0f0f0f, #1a1a1a, #000000) !important;
  border-right-color: #262626 !important;
}

/* Main content gradient styling */
.main-content-gradient {
  /* Light theme gradient - default */
  background: linear-gradient(to bottom, #f8fafc, #e2e8f0, #cbd5e1) !important;
  border-left-color: #d1d5db !important;
}

/* Dark theme main content gradient */
[data-theme="dark"] .main-content-gradient {
  background: linear-gradient(to bottom, #0f0f0f, #1a1a1a, #000000) !important;
  border-left-color: #262626 !important;
}

/* Text colors for theme-aware sidebar */
#sidebar .text-base-content {
  color: #1f2937 !important; /* Dark text for light theme */
}

[data-theme="dark"] #sidebar .text-base-content {
  color: #f9fafb !important; /* Light text for dark theme */
}

#sidebar .text-base-content\/60 {
  color: rgba(31, 41, 55, 0.6) !important; /* Light theme */
}

[data-theme="dark"] #sidebar .text-base-content\/60 {
  color: rgba(249, 250, 251, 0.6) !important; /* Dark theme */
}

#sidebar .text-base-content\/70 {
  color: rgba(31, 41, 55, 0.7) !important; /* Light theme */
}

[data-theme="dark"] #sidebar .text-base-content\/70 {
  color: rgba(249, 250, 251, 0.7) !important; /* Dark theme */
}

/* Hover states for theme-aware sidebar */
#sidebar .hover\:bg-base-300:hover {
  background-color: rgba(209, 213, 219, 0.6) !important; /* Light theme */
}

[data-theme="dark"] #sidebar .hover\:bg-base-300:hover {
  background-color: rgba(38, 38, 38, 0.6) !important; /* Dark theme */
}

/* Border colors for theme-aware sidebar */
#sidebar .border-base-300 {
  border-color: #d1d5db !important; /* Light theme */
}

[data-theme="dark"] #sidebar .border-base-300 {
  border-color: #262626 !important; /* Dark theme */
}

#sidebar .border-base-200 {
  border-color: #e5e7eb !important; /* Light theme */
}

[data-theme="dark"] #sidebar .border-base-200 {
  border-color: #333333 !important; /* Dark theme */
}

/* Dropdown background for theme-aware sidebar */
#sidebar .dropdown-content {
  background-color: #ffffff !important; /* Light theme */
  border-color: #d1d5db !important;
}

[data-theme="dark"] #sidebar .dropdown-content {
  background-color: #1a1a1a !important; /* Dark theme */
  border-color: #262626 !important;
}

/* Collapsed sidebar footer adjustments */
#sidebar[data-collapsed="true"] .dropdown {
  width: auto;
}

#sidebar[data-collapsed="true"] .dropdown .btn {
  width: auto;
  justify-content: center;
  padding: 0.5rem;
}

#sidebar[data-collapsed="true"] .dropdown .btn .sidebar-text {
  display: none;
}

/* Show only icons in collapsed state */
#sidebar[data-collapsed="true"] .avatar,
#sidebar[data-collapsed="true"] .w-5.h-5 {
  flex-shrink: 0;
}

/* Tooltip styles for collapsed state */
#sidebar[data-collapsed="true"] a[title]:hover::after,
#sidebar[data-collapsed="true"] .dropdown .btn:hover::after {
  content: attr(title);
  position: absolute;
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.9);
  color: white;
  padding: 0.5rem;
  border-radius: 0.375rem;
  font-size: 0.875rem;
  white-space: nowrap;
  z-index: 1000;
  margin-left: 0.5rem;
}

/* Responsive sidebar widths */
@media (max-width: 640px) {
  /* Extra small devices (phones) */
  #sidebar {
    width: 100vw; /* Full width overlay on mobile */
    position: fixed;
    z-index: 50;
    height: 100vh;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
  }
  
  #sidebar[data-collapsed="false"] {
    transform: translateX(0);
  }
  
  #sidebar[data-collapsed="true"] {
    width: 3.5rem; /* 56px - very compact on mobile */
    transform: translateX(0);
  }
  
  /* Hide tooltips on mobile (touch devices) */
  #sidebar[data-collapsed="true"] a[title]:hover::after {
    display: none;
  }
  
  /* Body takes full width on mobile */
  main {
    width: 100vw;
    margin-left: 0;
  }
  
  #sidebar[data-collapsed="true"] + main {
    margin-left: 3.5rem;
    width: calc(100vw - 3.5rem);
  }
}

@media (min-width: 641px) and (max-width: 768px) {
  /* Small devices (large phones, small tablets) */
  #sidebar {
    width: 13rem; /* 208px - reduced from 16rem (256px) */
    position: fixed;
    z-index: 40;
    height: 100vh;
  }
  
  #sidebar[data-collapsed="true"] {
    width: 4rem; /* 64px */
  }
  
  main {
    margin-left: 13rem;
    width: calc(100vw - 13rem);
  }
  
  #sidebar[data-collapsed="true"] + main {
    margin-left: 4rem;
    width: calc(100vw - 4rem);
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  /* Medium devices (tablets) */
  #sidebar {
    width: 14.5rem; /* 232px - reduced from 18rem (288px) */
  }
  
  #sidebar[data-collapsed="true"] {
    width: 4.5rem; /* 72px */
  }
  
  main {
    width: calc(100vw - 14.5rem);
  }
  
  #sidebar[data-collapsed="true"] + main {
    width: calc(100vw - 4.5rem);
  }
}

@media (min-width: 1025px) and (max-width: 1440px) {
  /* Large devices (desktops) */
  #sidebar {
    width: 16rem; /* 256px - reduced from 20rem (320px) */
  }
  
  #sidebar[data-collapsed="true"] {
    width: 5rem; /* 80px */
  }
  
  main {
    width: calc(100vw - 16rem);
  }
  
  #sidebar[data-collapsed="true"] + main {
    width: calc(100vw - 5rem);
  }
}

@media (min-width: 1441px) {
  /* Extra large devices (large desktops) */
  #sidebar {
    width: 18rem; /* 288px - reduced from 22rem (352px) */
  }
  
  #sidebar[data-collapsed="true"] {
    width: 5.5rem; /* 88px */
  }
  
  main {
    width: calc(100vw - 18rem);
  }
  
  #sidebar[data-collapsed="true"] + main {
    width: calc(100vw - 5.5rem);
  }
}

/* Smooth transitions */
.sidebar-text {
  transition: opacity 0.3s ease-in-out, width 0.3s ease-in-out;
}

#sidebar {
  transition: width 0.3s ease-in-out, transform 0.3s ease-in-out;
}

main {
  transition: margin-left 0.3s ease-in-out, width 0.3s ease-in-out;
  overflow-x: hidden; /* Prevent horizontal scrolling */
  max-width: 100vw;
}

/* Ensure content doesn't cause horizontal overflow */
main * {
  max-width: 100%;
  box-sizing: border-box;
}

/* Responsive content padding */
@media (max-width: 640px) {
  main .p-6 {
    padding: 1rem; /* Reduce padding on mobile */
  }
  
  main .max-w-7xl {
    max-width: 100%;
    padding: 0 0.5rem;
  }
}

@media (min-width: 641px) and (max-width: 1024px) {
  main .p-6 {
    padding: 1.5rem;
  }
}

/* Mobile overlay backdrop */
@media (max-width: 640px) {
  #sidebar[data-collapsed="false"]::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.5);
    z-index: -1;
  }
}

/* Dropdown fixes for responsive layout */
.dropdown-content {
  position: absolute !important;
  z-index: 100 !important;
}

/* Ensure dropdowns don't get clipped */
.dropdown:focus-within .dropdown-content,
.dropdown.dropdown-open .dropdown-content {
  display: block;
  opacity: 1;
  transform: translateY(0);
  visibility: visible;
}

/* Header dropdown positioning */
header .dropdown-content {
  position: absolute !important;
  top: 100% !important;
  right: 0 !important;
}

/* Sidebar dropdown positioning */
#sidebar .dropdown-content {
  position: absolute !important;
  bottom: 100% !important;
  left: 0 !important;
  right: auto !important;
  margin-bottom: 0.5rem;
}

/* Ensure sidebar dropdowns appear above sidebar content */
#sidebar .dropdown {
  position: relative;
  z-index: 110;
}

/* Theme dropdown specific positioning */
.dropdown-end .dropdown-content {
  right: 0 !important;
  left: auto !important;
}

/* Force dropdown visibility when focused */
.dropdown[open] .dropdown-content,
.dropdown:focus .dropdown-content,
.dropdown:focus-within .dropdown-content {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}